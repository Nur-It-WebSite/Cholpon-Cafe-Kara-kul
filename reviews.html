<!doctype html>
<html lang="ru"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"> <title>Отзывы удалены</title>
<meta http-equiv="refresh" content="0;url=index.html"></head><body>
Если вы видите эту страницу — отзывы отключены. Перенаправление на главную...
</body></html>
    </header>

    <!-- Основной контент -->
    <main>
      <section class="reviews-page-section">
        <div class="container">
          <div class="reviews-page-header">
            <h1 data-i18n="reviews-all-title">Все отзывы</h1>
            <a
              href="index.html"
              class="btn btn-secondary"
              data-i18n="reviews-back"
              >Вернуться на главную</a
            >
          </div>

          <div class="reviews-page-container">
            <!-- Форма добавления отзыва (дублируется с главной страницы, чтобы отправка работала и на этой странице) -->
            <div class="review-form-container">
              <h3 data-i18n="review-form-title">Оставить отзыв</h3>
              <form id="reviewForm" class="review-form">
                <div class="form-group">
                  <label for="reviewerName" data-i18n="review-name"
                    >Ваше имя</label
                  >
                  <input type="text" id="reviewerName" name="name" required />
                </div>

                <div class="form-group">
                  <label data-i18n="review-rating">Оценка</label>
                  <div class="star-rating" id="starRating">
                    <span class="star" data-rating="1">★</span>
                    <span class="star" data-rating="2">★</span>
                    <span class="star" data-rating="3">★</span>
                    <span class="star" data-rating="4">★</span>
                    <span class="star" data-rating="5">★</span>
                  </div>
                  <input
                    type="hidden"
                    id="reviewRating"
                    name="rating"
                    value="0"
                    required
                  />
                </div>

                <div class="form-group">
                  <label for="reviewComment" data-i18n="review-comment"
                    >Комментарий</label
                  >
                  <textarea
                    id="reviewComment"
                    name="comment"
                    rows="4"
                    required
                  ></textarea>
                </div>

                <div class="form-group">
                  <label for="reviewPhoto" data-i18n="review-photo"
                    >Фото (необязательно)</label
                  >
                  <div class="photo-upload-container">
                    <input
                      type="file"
                      id="reviewPhoto"
                      name="photo"
                      accept="image/*"
                      capture="environment"
                    />
                    <div class="photo-preview" id="photoPreview"></div>
                    <div class="photo-actions">
                      <button
                        type="button"
                        class="btn btn-secondary"
                        id="takePhotoBtn"
                        data-i18n="review-take-photo"
                      >
                        Сделать фото
                      </button>
                      <button
                        type="button"
                        class="btn btn-secondary"
                        id="choosePhotoBtn"
                        data-i18n="review-choose-photo"
                      >
                        Выбрать из галереи
                      </button>
                      <button
                        type="button"
                        class="btn btn-secondary"
                        id="removePhotoBtn"
                        style="display: none"
                        data-i18n="review-remove-photo"
                      >
                        Удалить фото
                      </button>
                    </div>
                  </div>
                </div>

                <button
                  type="submit"
                  class="btn btn-primary"
                  data-i18n="review-submit"
                >
                  Отправить отзыв
                </button>
              </form>
            </div>

            <div class="reviews-grid-full" id="reviewsGridFull">
              <!-- Все отзывы будут добавлены через JavaScript -->
            </div>
            <div
              class="reviews-empty"
              id="reviewsEmptyFull"
              style="display: none"
            >
              <p data-i18n="reviews-empty">Пока нет отзывов. Будьте первым!</p>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Футер -->
    <footer class="footer">
      <div class="container">
        <p data-i18n="footer-text">
          &copy; 2025 Кафе Cholpon. Все права защищены.
        </p>
      </div>
    </footer>

    <script src="script.js"></script>
    <script>
      // Инициализация для страницы отзывов
      document.addEventListener("DOMContentLoaded", () => {
        initTheme();
        initLanguage();
        initHeaderScroll();

        // Функция для отображения всех отзывов
        function displayAllReviews() {
          const reviews = getAllReviews();
          const reviewsGridFull = document.getElementById("reviewsGridFull");
          const reviewsEmptyFull = document.getElementById("reviewsEmptyFull");

          if (!reviews || reviews.length === 0) {
            if (reviewsGridFull) reviewsGridFull.style.display = "none";
            if (reviewsEmptyFull) reviewsEmptyFull.style.display = "block";
            return;
          }

          if (reviewsGridFull) reviewsGridFull.style.display = "grid";
          if (reviewsEmptyFull) reviewsEmptyFull.style.display = "none";

          if (reviewsGridFull) {
            reviewsGridFull.innerHTML = "";
            reviews.forEach((review) => {
              const reviewCard = createReviewCard(review);
              reviewsGridFull.appendChild(reviewCard);
            });
          }
        }

        // Инициализируем обработчики формы отзывов (если есть на странице)
        if (typeof initReviews === "function") initReviews();

        displayAllReviews();
      });
    </script>
  </body>
</html>
